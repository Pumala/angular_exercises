<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Fight or Flight</title>
    <script src="angular.js"></script>
    <script>
    var app = angular.module('my-app', []);
    app.controller('MainController', function($scope) {
      $scope.dragonHealth = 20;
      $scope.heroHealth = 10;

      $scope.fight = function() {
        var num = Math.random();
        if (num > 0.5) {
          $scope.dragonHealth -= 5;
        } else {
          $scope.heroHealth -= 5;
        }
        checkWinner();
      };

      $scope.flight = function() {
        $scope.heroHealth += 2;
        checkWinner();
      };

      function checkWinner() {
        if ($scope.dragonHealth <= 0) {
          $scope.message = 'You win!';
        }
        if ($scope.heroHealth <= 0){
          $scope.message = 'You lose!';
        }
      }
    });
    </script>
  </head>
  <body ng-app="my-app" ng-controller="MainController">
    Hero: {{heroHealth}}<br>
    Dragon: {{dragonHealth}}
    {{ message }}
    <button ng-click="fight()">Fight</button>
    <button ng-click="flight()">Flight</button>
  </body>
</html>
